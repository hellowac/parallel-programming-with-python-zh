##什么是线程
线程表示的是进程中不同的执行流程. 让我们把一个程序相信成是一个蜂箱,该程序的一个动作是将划分收集到这个蜂箱内. 这些搜集动作是由许多个工蜂同时进行的. 这个例子中,工蜂扮演的就是线程的角色, 它们工作在进程内部并且共享资源来完成它们的任务.

同一个进程中的线程共享内存空间. 因此开发者的任务就是控制和访问这些内存区域.

###使用线程的优势和劣势
是否使用线程需要权衡利弊,这依赖于用于实现解决方案的编程语言和操作系统.

使用线程的优势如下所示:
- 同一进程的不同线程之间交流的速度,数据单元(data location)的速度和共享信息的速度都很快
- 创建线程的花费要远远少于创建进程的花费,这时因为它无需拷贝主进程上下文环境中的那些信息
- 通过处理器的缓存机制可以优化内存存取,这样就能够充分利用数据局部性(data locality)的优势

使用线程的劣势如下:
- 数据共享可以加速通讯. 然而开发新手使用线程也很容引进难以解决的错误
- 数据共享限制了解决方案的灵活性. 若想将其迁移到分布式架构上,会是件很头疼的事情. 总的来说,它限制了算法的可扩展性

[就Python编程语言来说, 计算密集型的线程会由于GIL的存在而影响程序的性能]

###理解不同类型的线程
存在两种类型的线程:内核线程与用户线程. 其中,内核线程是指由操作系统创建和管理的线程. 内核线程的上下文切换,调度和销毁都由当前操作系统的内核来管理. 而对于用户线程,这些东西都由开发者来控制.

每种线程都有其优势:

内核线程的优势如下:
- 一个内核线程其实就是一个进程. 因此即使一个内核线程被阻塞了,其他的内核线程也照样运行
- 不同的内核线程可以运行在不同的CPU上

内核线程的劣势如下:
- 创建线程和线程间同步的消耗太大
- 实现依赖于平台

用户线程的优势如下:
- 用户线程的创建和线程间同步的开销较少
- 用户线程是平台无关的

用户线程的劣势如下:
- 同一进程中的所有用户线程都对应一个内核线程. 因此,若该内核线程被阻塞,则所有相应的用户线程都会被阻塞
- 不同用户线程无法运行在不同CPU上

###定义线程的状态
在线程的生命周期中,有5中状态:
- 新建: 该过程的主要动作就是创建一个新线程, 创建完新线程后,该线程被发送到待执行的线程队列中
- 运行: 该状态下,线程获取到并消耗CPU资源
- 就绪: 该状态下,线程在待执行的线程队列中排队,等待被执行
- 阻塞: 该状态下,线程由于等待某个事件(例如I/O操作)的出现而被阻塞. 这时线程并不使用CPU
- 死亡: 该状态下,线程释放执行时使用的资源并结束整个线程的生命周期

###是使用threading模块还是_thread模块
Python提供了两个模块来实现基于系统的线程:_thread模块(该模块提供了使用线程相关的较低层的API; 它的文档可以在http://docs.python.org/3.3/library/_thread.html 找到)和threading模块(该模块提供了使用线程相关的较高层的API; 它的文档可以在 http://docs.python.org/3.3/library/threading.html 中找到). threading模块提供的接口要比_thread模块的结构更友好一些. 至于具体选择哪个模块取决于开发者, 若开发者觉得在低层操作线程,实现自己的线程池,处理所及其其他原始特性(features)更随手一些的话,他/她会偏向使用_thread,否则threading会是更明智的选择
